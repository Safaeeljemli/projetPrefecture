<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">

    <ui:composition template="../template.xhtml">


        <ui:define name="title">
            <h:outputText value="Profil"></h:outputText>
        </ui:define>

        
        
        <style >
        body {
            color:#ceddea;
            background:lightgoldenrodyellow;
        }
        </style>
        
        <ui:define name="body"  >
            <div class="col-lg-2" style="background:lightgoldenrodyellow">
                        <p:fieldset style="margin-left: -15px;height:500px" >
                            <b:listLinks class="center-block" style="margin-top: 100px;background:lightgoldenrodyellow">
                                <b:navCommandLink value="Mon Compte" actionListener="#{userController.aficherProfil(true, false, false)}" update="changeAutreInfosForm,changePWForm,profileForm" />
                                <b:navCommandLink value="Mofier mes infos" actionListener="#{userController.aficherProfil(false, false, true)}" update="changeAutreInfosForm,changePWForm,profileForm" />
                                <b:navCommandLink value="Changer Password" actionListener="#{userController.aficherProfil(false, true, false)}" update="changeAutreInfosForm,changePWForm,profileForm" />
                            </b:listLinks>
                        </p:fieldset>
                    </div>
                    <div class="col-lg-10" >
                        <div Class="ui-grid ui-grid-responsive" >
                            <div Class="ui-grid-row" >
                                <div Class="ui-grid-col-6 center-block">
                                    <h:form id="profileForm"  >
                                        <p:fieldset legend="profile de '#{userController.connectedUser.login}'"  style="background: lightyellow; margin-top: 10%" class="center-block" rendered="#{userController.afficheProfile==true}" >
                                            <b:panelGrid columns="2" rendered="#{userController.selected != null}">

                                                <h:outputLabel value="#{bundle.CreateUserLabel_nom}"  style="margin: 10px;margin-left: 40px" />
                                                <h:outputText id="nom" value="#{userController.connectedUser.nom}" class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="#{bundle.CreateUserLabel_prenom}" style="margin: 10px;margin-left: 40px" />
                                                <h:outputText id="prenom" value="#{userController.connectedUser.prenom}" class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="E-mail" style="margin: 10px;margin-left: 40px" />
                                                <h:outputText id="email" value="#{userController.connectedUser.email}" class="form-control" style="margin-bottom: 10px"  />
                                                <h:outputLabel value="Telephone" style="margin: 10px;margin-left: 40px" />
                                                <h:outputText id="tel" value="#{userController.connectedUser.tel}" class="form-control" style="margin-bottom: 10px" />

                                            </b:panelGrid>
                                        </p:fieldset>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-10">
                        <div Class="ui-grid ui-grid-responsive" >
                            <div Class="ui-grid-row" >
                                <div Class="ui-grid-col-6 center-block">
                                    <h:form id="changeAutreInfosForm">
                                        <p:fieldset legend="changer mes information:" style="background: lightyellow; margin-top: 10%" class="center-block" rendered="#{userController.changerAutreInfos==true}" >
                                            <b:panelGrid columns="2" class="form-group-sm" rendered="#{userController.selected != null}">

                                                <h:outputLabel value="Nom"  style="margin: 10px;margin-left: 40px" />
                                                <b:inputText id="nom"  value="#{userController.connectedUser.nom}" class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="Prenom"  style="margin: 10px;margin-left: 40px" />
                                                <b:inputText id="prenom"  value="#{userController.connectedUser.prenom}" class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="E-mail"  style="margin: 10px;margin-left: 40px" />
                                                <b:inputText id="email"  value="#{userController.connectedUser.email}" class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="Telephone"  style="margin: 10px;margin-left: 40px" />
                                                <b:inputText id="tel"  value="#{userController.connectedUser.tel}" class="form-control" style="margin-bottom: 10px"  />
                                            </b:panelGrid>
                                            <div class="col-lg-8"/>
                                            <div class="col-lg-4" >
                                            <b:commandButton value="modifier" class="btn btn-warning form-control" actionListener="#{userController.changeInformation()}" update=":growl"  />
                                            </div>
                                        </p:fieldset>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-10">
                        <div Class="ui-grid ui-grid-responsive" >
                            <div Class="ui-grid-row" >
                                <div Class="ui-grid-col-6 center-block">
                                    <h:form id="changePWForm" >
                                        <p:fieldset legend="changer Mot de passe:" style="background: lightyellow; margin-top: 10%" class="center-block" rendered="#{userController.changerPasswrd==true}"  >
                                            <b:panelGrid columns="2" class="form-group-sm" rendered="#{userController.selected != null}">
                                                <h:outputLabel value="Mot de pass actuel"  style="margin: 10px;margin-left: 40px" />
                                                <b:inputText id="oldPassword"  value="#{userController.oldPassword}"  type="password"  class="form-control" style="margin-bottom: 10px" />
                                                <h:outputLabel value="Nouveau mot de passe" style="margin: 10px;margin-left: 40px"  />
                                                <b:inputText id="newPassword"    type="password"  value="#{userController.changePassword}" class="form-control" style="margin-bottom: 10px"/>
                                                <h:outputLabel value="Confirmer le mot de Passe" style="margin: 10px;margin-left: 40px"  />
                                                <b:inputText id="newPasswordConfirmation"  type="password"  value="#{userController.changeRepetePassword}" class="form-control" style="margin-bottom: 10px"/>
                                            </b:panelGrid>
                                             <div class="col-lg-8"/>
                                            <div class="col-lg-4" >
                                            <b:commandButton value="Enregistrer" class="btn btn-danger form-control" actionListener="#{userController.changePass()}" update=":growl" style="margin-top:20%" />
                                            </div>
                                        </p:fieldset>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                    </div>

        </ui:define>
    </ui:composition>

</html>
